# Full-Stack Architecture Document

## Table of Contents

- [Full-Stack Architecture Document](#table-of-contents)
  - [Table of Contents](./table-of-contents.md)
  - [Introduction](./introduction.md)
    - [Project Overview](./introduction.md#project-overview)
    - [Architecture Philosophy](./introduction.md#architecture-philosophy)
  - [High Level Architecture](./high-level-architecture.md)
    - [System Overview](./high-level-architecture.md#system-overview)
    - [Architecture Patterns](./high-level-architecture.md#architecture-patterns)
  - [Tech Stack](./tech-stack.md)
    - [Technology Decisions](./tech-stack.md#technology-decisions)
    - [Alternative Approaches Considered](./tech-stack.md#alternative-approaches-considered)
  - [Data Models](./data-models.md)
    - [Core Entities](./data-models.md#core-entities)
      - [Job](./data-models.md#job)
      - [Application](./data-models.md#application)
      - [ApplicationProject](./data-models.md#applicationproject)
      - [Interview](./data-models.md#interview)
      - [ResumeTemplate](./data-models.md#resumetemplate)
      - [CoverLetterTemplate](./data-models.md#coverlettertemplate)
      - [JobEmbedding](./data-models.md#jobembedding)
      - [EmailResponse](./data-models.md#emailresponse)
      - [ResumeVariant](./data-models.md#resumevariant)
      - [JobProjectMatch](./data-models.md#jobprojectmatch)
      - [UserProfile](./data-models.md#userprofile)
    - [Entity Relationships](./data-models.md#entity-relationships)
  - [API Specification](./api-specification.md)
    - [PostgREST REST API](./api-specification.md#postgrest-rest-api)
    - [Common Patterns](./api-specification.md#common-patterns)
      - [List Resources](./api-specification.md#list-resources)
      - [Get Single Resource](./api-specification.md#get-single-resource)
      - [Embedded Resources](./api-specification.md#embedded-resources)
      - [Create Resource](./api-specification.md#create-resource)
      - [Update Resource](./api-specification.md#update-resource)
      - [Delete Resource](./api-specification.md#delete-resource)
      - [Call PostgreSQL Function](./api-specification.md#call-postgresql-function)
    - [Key Endpoints](./api-specification.md#key-endpoints)
      - [Jobs](./api-specification.md#jobs)
      - [Applications](./api-specification.md#applications)
      - [Interviews](./api-specification.md#interviews)
    - [Authentication](./api-specification.md#authentication)
  - [Components](./components.md)
    - [System Components](./components.md#system-components)
    - [1. Next.js Web Application](./components.md#1-nextjs-web-application)
    - [2. PostgREST API Server](./components.md#2-postgrest-api-server)
    - [3. PostgreSQL Database](./components.md#3-postgresql-database)
    - [4. n8n Workflow Engine](./components.md#4-n8n-workflow-engine)
    - [5. OpenAI Integration Service](./components.md#5-openai-integration-service)
    - [6. Telegram Bot Service](./components.md#6-telegram-bot-service)
    - [7. Email Integration Service](./components.md#7-email-integration-service)
    - [8. Google Calendar Integration Service](./components.md#8-google-calendar-integration-service)
    - [9. Job Board Scraper Services](./components.md#9-job-board-scraper-services)
    - [10. Shared Types Package](./components.md#10-shared-types-package)
  - [External APIs](./external-apis.md)
    - [OpenAI API](./external-apis.md#openai-api)
    - [Telegram Bot API](./external-apis.md#telegram-bot-api)
    - [Google Calendar API](./external-apis.md#google-calendar-api)
    - [Email Integration (IMAP/SMTP)](./external-apis.md#email-integration-imapsmtp)
    - [Job Board APIs and Scraping](./external-apis.md#job-board-apis-and-scraping)
      - [Remote OK API](./external-apis.md#remote-ok-api)
      - [We Work Remotely (Scraping)](./external-apis.md#we-work-remotely-scraping)
    - [External API Error Handling](./external-apis.md#external-api-error-handling)
  - [Core Workflows](./core-workflows.md)
    - [Workflow 1: Job Discovery and Ingestion](./core-workflows.md#workflow-1-job-discovery-and-ingestion)
    - [Workflow 2: AI-Powered Resume/Cover Letter Customization](./core-workflows.md#workflow-2-ai-powered-resumecover-letter-customization)
    - [Workflow 3: Email Response Monitoring](./core-workflows.md#workflow-3-email-response-monitoring)
    - [Workflow 4: Semantic Job Search](./core-workflows.md#workflow-4-semantic-job-search)
  - [Database Schema](./database-schema.md)
    - [Extensions and Setup](./database-schema.md#extensions-and-setup)
    - [Core Tables](./database-schema.md#core-tables)
      - [user_profile](./database-schema.md#userprofile)
      - [jobs](./database-schema.md#jobs)
      - [job_embeddings](./database-schema.md#jobembeddings)
      - [applications](./database-schema.md#applications)
      - [interviews](./database-schema.md#interviews)
    - [Helper Functions](./database-schema.md#helper-functions)
      - [semantic_search()](./database-schema.md#semanticsearch)
    - [Row Level Security (RLS)](./database-schema.md#row-level-security-rls)
  - [Frontend Architecture](./frontend-architecture.md)
    - [Technology Stack](./frontend-architecture.md#technology-stack)
    - [Project Structure (Frontend)](./frontend-architecture.md#project-structure-frontend)
    - [State Management Strategy](./frontend-architecture.md#state-management-strategy)
    - [Routing Strategy](./frontend-architecture.md#routing-strategy)
    - [Component Architecture](./frontend-architecture.md#component-architecture)
  - [Backend Architecture](./backend-architecture.md)
    - [Architecture Overview](./backend-architecture.md#architecture-overview)
    - [PostgREST Layer](./backend-architecture.md#postgrest-layer)
    - [Next.js API Routes](./backend-architecture.md#nextjs-api-routes)
      - [Authentication](./backend-architecture.md#authentication)
      - [OpenAI Embeddings Proxy](./backend-architecture.md#openai-embeddings-proxy)
    - [n8n Workflow Engine](./backend-architecture.md#n8n-workflow-engine)
  - [Unified Project Structure](./unified-project-structure.md)
    - [Monorepo Structure](./unified-project-structure.md#monorepo-structure)
    - [Root Package.json](./unified-project-structure.md#root-packagejson)
  - [Development Workflow](./development-workflow.md)
    - [Local Development Setup](./development-workflow.md#local-development-setup)
    - [Development Services](./development-workflow.md#development-services)
    - [Daily Development Workflow](./development-workflow.md#daily-development-workflow)
  - [Deployment Architecture](./deployment-architecture.md)
    - [Production Infrastructure (Railway.app)](./deployment-architecture.md#production-infrastructure-railwayapp)
    - [Service Configuration](./deployment-architecture.md#service-configuration)
    - [CI/CD Pipeline](./deployment-architecture.md#cicd-pipeline)
    - [Deployment Process](./deployment-architecture.md#deployment-process)
    - [Environment Variables (Production)](./deployment-architecture.md#environment-variables-production)
  - [Security and Performance](./security-and-performance.md)
    - [Security Architecture](./security-and-performance.md#security-architecture)
      - [Authentication Flow](./security-and-performance.md#authentication-flow)
      - [Row Level Security](./security-and-performance.md#row-level-security)
      - [Data Encryption](./security-and-performance.md#data-encryption)
      - [Input Validation](./security-and-performance.md#input-validation)
      - [Rate Limiting](./security-and-performance.md#rate-limiting)
    - [Performance Optimization](./security-and-performance.md#performance-optimization)
      - [Database Performance](./security-and-performance.md#database-performance)
      - [Frontend Performance](./security-and-performance.md#frontend-performance)
      - [Caching Strategy](./security-and-performance.md#caching-strategy)
    - [Performance Targets](./security-and-performance.md#performance-targets)
  - [Testing Strategy](./testing-strategy.md)
    - [Testing Pyramid](./testing-strategy.md#testing-pyramid)
    - [Unit Testing](./testing-strategy.md#unit-testing)
    - [Integration Testing](./testing-strategy.md#integration-testing)
    - [End-to-End Testing](./testing-strategy.md#end-to-end-testing)
    - [Test Coverage Requirements](./testing-strategy.md#test-coverage-requirements)
  - [Error Handling Strategy](./error-handling-strategy.md)
    - [Error Handling Philosophy](./error-handling-strategy.md#error-handling-philosophy)
    - [Frontend Error Handling](./error-handling-strategy.md#frontend-error-handling)
    - [Backend Error Handling](./error-handling-strategy.md#backend-error-handling)
    - [Error Logging](./error-handling-strategy.md#error-logging)
    - [Error Recovery](./error-handling-strategy.md#error-recovery)
  - [Monitoring and Observability](./monitoring-and-observability.md)
    - [Observability Stack](./monitoring-and-observability.md#observability-stack)
    - [Structured Logging](./monitoring-and-observability.md#structured-logging)
    - [Metrics Collection](./monitoring-and-observability.md#metrics-collection)
    - [Health Checks](./monitoring-and-observability.md#health-checks)
    - [Alerting](./monitoring-and-observability.md#alerting)
    - [Monitoring Dashboard](./monitoring-and-observability.md#monitoring-dashboard)
  - [Coding Standards](./coding-standards.md)
    - [General Principles](./coding-standards.md#general-principles)
    - [TypeScript Standards](./coding-standards.md#typescript-standards)
    - [React/Next.js Standards](./coding-standards.md#reactnextjs-standards)
    - [File Organization](./coding-standards.md#file-organization)
    - [Code Comments](./coding-standards.md#code-comments)
    - [Git Commit Standards](./coding-standards.md#git-commit-standards)
    - [Code Review Checklist](./coding-standards.md#code-review-checklist)
  - [Conclusion](./conclusion.md)
